// ===== Quiz Data N2 =====
const quizData = [
  {
    question: "Comment dit-on 'analyser' ?",
    options: ["åˆ†æžã—ã¾ã™ï¼ˆã¶ã‚“ã›ãã—ã¾ã™ï¼‰", "ç†è§£ã—ã¾ã™ï¼ˆã‚Šã‹ã„ã—ã¾ã™ï¼‰", "èª¬æ˜Žã—ã¾ã™ï¼ˆã›ã¤ã‚ã„ã—ã¾ã™ï¼‰", "æ¯”è¼ƒã—ã¾ã™ï¼ˆã²ã‹ãã—ã¾ã™ï¼‰"],
    answer: "åˆ†æžã—ã¾ã™ï¼ˆã¶ã‚“ã›ãã—ã¾ã™ï¼‰"
  },
  {
    question: "Lequel signifie 'gestion / administration' ?",
    options: ["ç®¡ç†ï¼ˆã‹ã‚“ã‚Šï¼‰", "è¨ˆç”»ï¼ˆã‘ã„ã‹ãï¼‰", "æ–¹æ³•ï¼ˆã»ã†ã»ã†ï¼‰", "çµŒé¨“ï¼ˆã‘ã„ã‘ã‚“ï¼‰"],
    answer: "ç®¡ç†ï¼ˆã‹ã‚“ã‚Šï¼‰"
  },
  {
    question: "Comment dire 'considÃ©rer' ?",
    options: ["è€ƒæ…®ã—ã¾ã™ï¼ˆã“ã†ã‚Šã‚‡ã—ã¾ã™ï¼‰", "åˆ¤æ–­ã—ã¾ã™ï¼ˆã¯ã‚“ã ã‚“ã—ã¾ã™ï¼‰", "æ±ºå®šã—ã¾ã™ï¼ˆã‘ã£ã¦ã„ã—ã¾ã™ï¼‰", "ç†è§£ã—ã¾ã™ï¼ˆã‚Šã‹ã„ã—ã¾ã™ï¼‰"],
    answer: "è€ƒæ…®ã—ã¾ã™ï¼ˆã“ã†ã‚Šã‚‡ã—ã¾ã™ï¼‰"
  },
  {
    question: "Lequel signifie 'amÃ©liorer' ?",
    options: ["æ”¹å–„ã—ã¾ã™ï¼ˆã‹ã„ãœã‚“ã—ã¾ã™ï¼‰", "ç¶­æŒã—ã¾ã™ï¼ˆã„ã˜ã—ã¾ã™ï¼‰", "å¤‰æ›´ã—ã¾ã™ï¼ˆã¸ã‚“ã“ã†ã—ã¾ã™ï¼‰", "ä¿å­˜ã—ã¾ã™ï¼ˆã»ãžã‚“ã—ã¾ã™ï¼‰"],
    answer: "æ”¹å–„ã—ã¾ã™ï¼ˆã‹ã„ãœã‚“ã—ã¾ã™ï¼‰"
  },
  {
    question: "Comment dire 'occasion' ?",
    options: ["æ©Ÿä¼šï¼ˆãã‹ã„ï¼‰", "çµŒé¨“ï¼ˆã‘ã„ã‘ã‚“ï¼‰", "æ–¹æ³•ï¼ˆã»ã†ã»ã†ï¼‰", "ç›®çš„ï¼ˆã‚‚ãã¦ãï¼‰"],
    answer: "æ©Ÿä¼šï¼ˆãã‹ã„ï¼‰"
  },
  {
    question: "Lequel signifie 'responsabilitÃ©' ?",
    options: ["ç¾©å‹™ï¼ˆãŽã‚€ï¼‰", "æ¨©åˆ©ï¼ˆã‘ã‚“ã‚Šï¼‰", "ç¢ºèª(ã‹ãã«ã‚“)", "å½¹å‰²ï¼ˆã‚„ãã‚ã‚Šï¼‰"],
    answer: "ç¾©å‹™ï¼ˆãŽã‚€ï¼‰"
  },
  {
    question: "Comment dire 'prÃ©venir' ?",
    options: ["è­¦å‘Šã—ã¾ã™ï¼ˆã‘ã„ã“ãã—ã¾ã™ï¼‰", "å®Ÿé¨“ã˜ã‚ƒã‚ˆ(ã˜ã£ã‘ã‚“ã˜ã‚ƒã‚ˆ)", "ç¢ºèªã—ã¾ã™ï¼ˆã‹ãã«ã‚“ã—ã¾ã™ï¼‰", "å ±å‘Šã—ã¾ã™ï¼ˆã»ã†ã“ãã—ã¾ã™ï¼‰"],
    answer: "è­¦å‘Šã—ã¾ã™ï¼ˆã‘ã„ã“ãã—ã¾ã™ï¼‰"
  },
  {
    question: "Lequel signifie 'approximation / environ' ?",
    options: ["ç´„ï¼ˆã‚„ãï¼‰", "å®Œå…¨ï¼ˆã‹ã‚“ãœã‚“ï¼‰", "æ­£ç¢ºï¼ˆã›ã„ã‹ãï¼‰", "æ­£ç›´ï¼ˆã—ã‚‡ã†ã˜ãï¼‰"],
    answer: "ç´„ï¼ˆã‚„ãï¼‰"
  },
  {
    question: "Comment dire 'confiance' ?",
    options: ["ä¿¡é ¼ï¼ˆã—ã‚“ã‚‰ã„ï¼‰", "ç†è§£ï¼ˆã‚Šã‹ã„ï¼‰", "å”åŠ›ï¼ˆãã‚‡ã†ã‚Šã‚‡ãï¼‰", "çµŒé¨“ï¼ˆã‘ã„ã‘ã‚“ï¼‰"],
    answer: "ä¿¡é ¼ï¼ˆã—ã‚“ã‚‰ã„ï¼‰"
  },
  {
    question: "Lequel signifie 'accomplir' ?",
    options: ["é”æˆã—ã¾ã™ï¼ˆãŸã£ã›ã„ã—ã¾ã™ï¼‰", "å®Ÿè¡Œã—ã¾ã™ï¼ˆã˜ã£ã“ã†ã—ã¾ã™ï¼‰", "æˆåŠŸã—ã¾ã™ï¼ˆã›ã„ã“ã†ã—ã¾ã™ï¼‰", "å®Œæˆã—ã¾ã™ï¼ˆã‹ã‚“ã›ã„ã—ã¾ã™ï¼‰"],
    answer: "é”æˆã—ã¾ã™ï¼ˆãŸã£ã›ã„ã—ã¾ã™ï¼‰"
  }
];

// ===== Shuffle function =====
function shuffle(array) {
  for (let i = array.length -1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// ===== Quiz logic =====
let currentQuiz = 0;
let score = 0;

const questionEl = document.getElementById("question");
const optionsEl = document.getElementById("options");
const feedbackEl = document.getElementById("feedback");
const nextBtn = document.getElementById("nextBtn");
const finalScoreEl = document.getElementById("final-score");

function loadQuiz() {
  const current = quizData[currentQuiz];
  questionEl.innerText = current.question;
  optionsEl.innerHTML = "";
  feedbackEl.innerText = "";
  nextBtn.style.display = "none";

  const shuffledOptions = shuffle([...current.options]);

  shuffledOptions.forEach(opt => {
    const button = document.createElement("button");
    button.innerText = opt;
    button.addEventListener("click", () => selectAnswer(button, current.answer));
    optionsEl.appendChild(button);
  });
}

function selectAnswer(button, correctAnswer) {
  if(button.innerText === correctAnswer) {
    feedbackEl.innerText = "âœ… Correct !";
    feedbackEl.style.color = "green";
    button.classList.add("correct");
    score++;
  } else {
    feedbackEl.innerText = `âŒ Incorrect ! La bonne rÃ©ponse est : ${correctAnswer}`;
    feedbackEl.style.color = "red";
    button.classList.add("wrong");
  }
  Array.from(optionsEl.children).forEach(btn => btn.disabled = true);
  nextBtn.style.display = "inline-block";
}

nextBtn.addEventListener("click", () => {
  currentQuiz++;
  if(currentQuiz < quizData.length) {
    loadQuiz();
  } else {
    questionEl.style.display = "none";
    optionsEl.style.display = "none";
    nextBtn.style.display = "none";
    feedbackEl.style.display = "none";
    finalScoreEl.style.display = "block";
    finalScoreEl.innerHTML = `ðŸŽ‰ Ton score final est ${score} / ${quizData.length}<br><br>
      <a href="jap_quiz.html" class="btn-return"> Retour au quiz</a>`;
  }
});

loadQuiz();
